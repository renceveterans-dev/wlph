{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_divider = _resolveComponent(\"v-divider\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_data_table_server = _resolveComponent(\"v-data-table-server\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_cache[3] || (_cache[3] = _createElementVNode(\"h1\", null, \"Bookings\", -1 /* CACHED */)), _createVNode(_component_v_divider, {\n      class: \"mt-2\"\n    }), _createVNode(_component_v_data_table_server, {\n      \"items-per-page\": $setup.itemsPerPage,\n      \"onUpdate:itemsPerPage\": _cache[2] || (_cache[2] = $event => $setup.itemsPerPage = $event),\n      headers: $setup.headers,\n      items: $setup.serverItems,\n      \"items-length\": $setup.totalItems,\n      loading: $setup.loading,\n      search: $setup.search,\n      \"item-value\": \"name\",\n      \"onUpdate:options\": $setup.loadItems\n    }, {\n      tfoot: _withCtx(() => [_createElementVNode(\"tr\", null, [_createElementVNode(\"td\", null, [_createVNode(_component_v_text_field, {\n        modelValue: $setup.name,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.name = $event),\n        class: \"ma-2\",\n        density: \"compact\",\n        placeholder: \"Search name...\",\n        \"hide-details\": \"\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"td\", null, [_createVNode(_component_v_text_field, {\n        modelValue: $setup.calories,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.calories = $event),\n        class: \"ma-2\",\n        density: \"compact\",\n        placeholder: \"Minimum calories\",\n        type: \"number\",\n        \"hide-details\": \"\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])])])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"items-per-page\", \"headers\", \"items\", \"items-length\", \"loading\", \"search\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","_createElementVNode","_createVNode","_component_v_divider","class","_component_v_data_table_server","$setup","itemsPerPage","$event","headers","items","serverItems","totalItems","loading","search","loadItems","tfoot","_withCtx","_component_v_text_field","name","density","placeholder","calories","type"],"sources":["C:\\Users\\lvegerano\\Documents\\Laurence\\wlph-app\\wlph-app\\src\\views\\BookingView.vue"],"sourcesContent":["<template>\r\n    <v-container>\r\n        <h1>Bookings</h1>\r\n\r\n        <v-divider class=\"mt-2\"></v-divider>\r\n\r\n        <v-data-table-server v-model:items-per-page=\"itemsPerPage\" :headers=\"headers\" :items=\"serverItems\"\r\n            :items-length=\"totalItems\" :loading=\"loading\" :search=\"search\" item-value=\"name\"\r\n            @update:options=\"loadItems\">\r\n            <template v-slot:tfoot>\r\n                <tr>\r\n                    <td>\r\n                        <v-text-field v-model=\"name\" class=\"ma-2\" density=\"compact\" placeholder=\"Search name...\"\r\n                            hide-details></v-text-field>\r\n                    </td>\r\n                    <td>\r\n                        <v-text-field v-model=\"calories\" class=\"ma-2\" density=\"compact\" placeholder=\"Minimum calories\"\r\n                            type=\"number\" hide-details></v-text-field>\r\n                    </td>\r\n                </tr>\r\n            </template>\r\n        </v-data-table-server>\r\n\r\n\r\n    </v-container>\r\n</template>\r\n\r\n\r\n<script setup>\r\n  import { ref, watch } from 'vue'\r\n\r\n  const desserts = [\r\n    {\r\n      name: 'Frozen Yogurt',\r\n      calories: 159,\r\n      fat: 6,\r\n      carbs: 24,\r\n      protein: 4,\r\n      iron: '1',\r\n    },\r\n    {\r\n      name: 'Jelly bean',\r\n      calories: 375,\r\n      fat: 0,\r\n      carbs: 94,\r\n      protein: 0,\r\n      iron: '0',\r\n    },\r\n    {\r\n      name: 'KitKat',\r\n      calories: 518,\r\n      fat: 26,\r\n      carbs: 65,\r\n      protein: 7,\r\n      iron: '6',\r\n    },\r\n    {\r\n      name: 'Eclair',\r\n      calories: 262,\r\n      fat: 16,\r\n      carbs: 23,\r\n      protein: 6,\r\n      iron: '7',\r\n    },\r\n    {\r\n      name: 'Gingerbread',\r\n      calories: 356,\r\n      fat: 16,\r\n      carbs: 49,\r\n      protein: 3.9,\r\n      iron: '16',\r\n    },\r\n    {\r\n      name: 'Ice cream sandwich',\r\n      calories: 237,\r\n      fat: 9,\r\n      carbs: 37,\r\n      protein: 4.3,\r\n      iron: '1',\r\n    },\r\n    {\r\n      name: 'Lollipop',\r\n      calories: 392,\r\n      fat: 0.2,\r\n      carbs: 98,\r\n      protein: 0,\r\n      iron: '2',\r\n    },\r\n    {\r\n      name: 'Cupcake',\r\n      calories: 305,\r\n      fat: 3.7,\r\n      carbs: 67,\r\n      protein: 4.3,\r\n      iron: '8',\r\n    },\r\n    {\r\n      name: 'Honeycomb',\r\n      calories: 408,\r\n      fat: 3.2,\r\n      carbs: 87,\r\n      protein: 6.5,\r\n      iron: '45',\r\n    },\r\n    {\r\n      name: 'Donut',\r\n      calories: 452,\r\n      fat: 25,\r\n      carbs: 51,\r\n      protein: 4.9,\r\n      iron: '22',\r\n    },\r\n  ]\r\n  const FakeAPI = {\r\n    async fetch ({ page, itemsPerPage, sortBy, search }) {\r\n      return new Promise(resolve => {\r\n        setTimeout(() => {\r\n          const start = (page - 1) * itemsPerPage\r\n          const end = start + itemsPerPage\r\n          const items = desserts.slice().filter(item => {\r\n            if (search.name && !item.name.toLowerCase().includes(search.name.toLowerCase())) {\r\n              return false\r\n            }\r\n            // eslint-disable-next-line sonarjs/prefer-single-boolean-return\r\n            if (search.calories && !(item.calories >= Number(search.calories))) {\r\n              return false\r\n            }\r\n            return true\r\n          })\r\n          if (sortBy.length) {\r\n            const sortKey = sortBy[0].key\r\n            const sortOrder = sortBy[0].order\r\n            items.sort((a, b) => {\r\n              const aValue = a[sortKey]\r\n              const bValue = b[sortKey]\r\n              return sortOrder === 'desc' ? bValue - aValue : aValue - bValue\r\n            })\r\n          }\r\n          const paginated = items.slice(start, end === -1 ? undefined : end)\r\n          resolve({ items: paginated, total: items.length })\r\n        }, 500)\r\n      })\r\n    },\r\n  }\r\n  const itemsPerPage = ref(5)\r\n  const headers = ref([\r\n    {\r\n      title: 'Dessert (100g serving)',\r\n      align: 'start',\r\n      sortable: false,\r\n      key: 'name',\r\n    },\r\n    { title: 'Calories', key: 'calories', align: 'end' },\r\n    { title: 'Fat (g)', key: 'fat', align: 'end' },\r\n    { title: 'Carbs (g)', key: 'carbs', align: 'end' },\r\n    { title: 'Protein (g)', key: 'protein', align: 'end' },\r\n    { title: 'Iron (%)', key: 'iron', align: 'end' },\r\n  ])\r\n  const serverItems = ref([])\r\n  const loading = ref(true)\r\n  const totalItems = ref(0)\r\n  const name = ref('')\r\n  const calories = ref('')\r\n  const search = ref('')\r\n  function loadItems ({ page, itemsPerPage, sortBy }) {\r\n    loading.value = true\r\n    FakeAPI.fetch({ page, itemsPerPage, sortBy, search: { name: name.value, calories: calories.value } }).then(({ items, total }) => {\r\n      serverItems.value = items\r\n      totalItems.value = total\r\n      loading.value = false\r\n    })\r\n  }\r\n  watch(name, () => {\r\n    search.value = String(Date.now())\r\n  })\r\n  watch(calories, () => {\r\n    search.value = String(Date.now())\r\n  })\r\n</script>\r\n"],"mappings":";;;;;;uBACIA,YAAA,CAuBcC,sBAAA;sBAtBV,MAAiB,C,0BAAjBC,mBAAA,CAAiB,YAAb,UAAQ,qBAEZC,YAAA,CAAoCC,oBAAA;MAAzBC,KAAK,EAAC;IAAM,IAEvBF,YAAA,CAesBG,8BAAA;MAfO,gBAAc,EAAEC,MAAA,CAAAC,YAAY;mEAAZD,MAAA,CAAAC,YAAY,GAAAC,MAAA;MAAGC,OAAO,EAAEH,MAAA,CAAAG,OAAO;MAAGC,KAAK,EAAEJ,MAAA,CAAAK,WAAW;MAC5F,cAAY,EAAEL,MAAA,CAAAM,UAAU;MAAGC,OAAO,EAAEP,MAAA,CAAAO,OAAO;MAAGC,MAAM,EAAER,MAAA,CAAAQ,MAAM;MAAE,YAAU,EAAC,MAAM;MAC/E,kBAAc,EAAER,MAAA,CAAAS;;MACAC,KAAK,EAAAC,QAAA,CAClB,MASK,CATLhB,mBAAA,CASK,aARDA,mBAAA,CAGK,aAFDC,YAAA,CACgCgB,uBAAA;oBADTZ,MAAA,CAAAa,IAAI;mEAAJb,MAAA,CAAAa,IAAI,GAAAX,MAAA;QAAEJ,KAAK,EAAC,MAAM;QAACgB,OAAO,EAAC,SAAS;QAACC,WAAW,EAAC,gBAAgB;QACpF,cAAY,EAAZ;iDAERpB,mBAAA,CAGK,aAFDC,YAAA,CAC8CgB,uBAAA;oBADvBZ,MAAA,CAAAgB,QAAQ;mEAARhB,MAAA,CAAAgB,QAAQ,GAAAd,MAAA;QAAEJ,KAAK,EAAC,MAAM;QAACgB,OAAO,EAAC,SAAS;QAACC,WAAW,EAAC,kBAAkB;QAC1FE,IAAI,EAAC,QAAQ;QAAC,cAAY,EAAZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}