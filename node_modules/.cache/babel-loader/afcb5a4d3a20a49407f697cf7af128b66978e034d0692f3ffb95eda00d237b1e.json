{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { ref, watch } from 'vue';\nexport default {\n  __name: 'BookingView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const desserts = [{\n      name: 'Frozen Yogurt',\n      calories: 159,\n      fat: 6,\n      carbs: 24,\n      protein: 4,\n      iron: '1'\n    }, {\n      name: 'Jelly bean',\n      calories: 375,\n      fat: 0,\n      carbs: 94,\n      protein: 0,\n      iron: '0'\n    }, {\n      name: 'KitKat',\n      calories: 518,\n      fat: 26,\n      carbs: 65,\n      protein: 7,\n      iron: '6'\n    }, {\n      name: 'Eclair',\n      calories: 262,\n      fat: 16,\n      carbs: 23,\n      protein: 6,\n      iron: '7'\n    }, {\n      name: 'Gingerbread',\n      calories: 356,\n      fat: 16,\n      carbs: 49,\n      protein: 3.9,\n      iron: '16'\n    }, {\n      name: 'Ice cream sandwich',\n      calories: 237,\n      fat: 9,\n      carbs: 37,\n      protein: 4.3,\n      iron: '1'\n    }, {\n      name: 'Lollipop',\n      calories: 392,\n      fat: 0.2,\n      carbs: 98,\n      protein: 0,\n      iron: '2'\n    }, {\n      name: 'Cupcake',\n      calories: 305,\n      fat: 3.7,\n      carbs: 67,\n      protein: 4.3,\n      iron: '8'\n    }, {\n      name: 'Honeycomb',\n      calories: 408,\n      fat: 3.2,\n      carbs: 87,\n      protein: 6.5,\n      iron: '45'\n    }, {\n      name: 'Donut',\n      calories: 452,\n      fat: 25,\n      carbs: 51,\n      protein: 4.9,\n      iron: '22'\n    }];\n    const FakeAPI = {\n      async fetch({\n        page,\n        itemsPerPage,\n        sortBy,\n        search\n      }) {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            const start = (page - 1) * itemsPerPage;\n            const end = start + itemsPerPage;\n            const items = desserts.slice().filter(item => {\n              if (search.name && !item.name.toLowerCase().includes(search.name.toLowerCase())) {\n                return false;\n              }\n              // eslint-disable-next-line sonarjs/prefer-single-boolean-return\n              if (search.calories && !(item.calories >= Number(search.calories))) {\n                return false;\n              }\n              return true;\n            });\n            if (sortBy.length) {\n              const sortKey = sortBy[0].key;\n              const sortOrder = sortBy[0].order;\n              items.sort((a, b) => {\n                const aValue = a[sortKey];\n                const bValue = b[sortKey];\n                return sortOrder === 'desc' ? bValue - aValue : aValue - bValue;\n              });\n            }\n            const paginated = items.slice(start, end === -1 ? undefined : end);\n            resolve({\n              items: paginated,\n              total: items.length\n            });\n          }, 500);\n        });\n      }\n    };\n    const itemsPerPage = ref(5);\n    const headers = ref([{\n      title: 'Dessert (100g serving)',\n      align: 'start',\n      sortable: false,\n      key: 'name'\n    }, {\n      title: 'Calories',\n      key: 'calories',\n      align: 'end'\n    }, {\n      title: 'Fat (g)',\n      key: 'fat',\n      align: 'end'\n    }, {\n      title: 'Carbs (g)',\n      key: 'carbs',\n      align: 'end'\n    }, {\n      title: 'Protein (g)',\n      key: 'protein',\n      align: 'end'\n    }, {\n      title: 'Iron (%)',\n      key: 'iron',\n      align: 'end'\n    }]);\n    const serverItems = ref([]);\n    const loading = ref(true);\n    const totalItems = ref(0);\n    const name = ref('');\n    const calories = ref('');\n    const search = ref('');\n    function loadItems({\n      page,\n      itemsPerPage,\n      sortBy\n    }) {\n      loading.value = true;\n      FakeAPI.fetch({\n        page,\n        itemsPerPage,\n        sortBy,\n        search: {\n          name: name.value,\n          calories: calories.value\n        }\n      }).then(({\n        items,\n        total\n      }) => {\n        serverItems.value = items;\n        totalItems.value = total;\n        loading.value = false;\n      });\n    }\n    watch(name, () => {\n      search.value = String(Date.now());\n    });\n    watch(calories, () => {\n      search.value = String(Date.now());\n    });\n    const __returned__ = {\n      desserts,\n      FakeAPI,\n      itemsPerPage,\n      headers,\n      serverItems,\n      loading,\n      totalItems,\n      name,\n      calories,\n      search,\n      loadItems,\n      ref,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","desserts","name","calories","fat","carbs","protein","iron","FakeAPI","fetch","page","itemsPerPage","sortBy","search","Promise","resolve","setTimeout","start","end","items","slice","filter","item","toLowerCase","includes","Number","length","sortKey","key","sortOrder","order","sort","a","b","aValue","bValue","paginated","undefined","total","headers","title","align","sortable","serverItems","loading","totalItems","loadItems","value","then","String","Date","now"],"sources":["C:/Users/lvegerano/Documents/Laurence/wlph-app/wlph-app/src/views/BookingView.vue"],"sourcesContent":["<template>\r\n    <v-container>\r\n        <h1>Bookings</h1>\r\n\r\n        <v-divider class=\"mt-2\"></v-divider>\r\n\r\n        <v-data-table-server v-model:items-per-page=\"itemsPerPage\" :headers=\"headers\" :items=\"serverItems\"\r\n            :items-length=\"totalItems\" :loading=\"loading\" :search=\"search\" item-value=\"name\"\r\n            @update:options=\"loadItems\">\r\n            <template v-slot:tfoot>\r\n                <tr>\r\n                    <td>\r\n                        <v-text-field v-model=\"name\" class=\"ma-2\" density=\"compact\" placeholder=\"Search name...\"\r\n                            hide-details></v-text-field>\r\n                    </td>\r\n                    <td>\r\n                        <v-text-field v-model=\"calories\" class=\"ma-2\" density=\"compact\" placeholder=\"Minimum calories\"\r\n                            type=\"number\" hide-details></v-text-field>\r\n                    </td>\r\n                </tr>\r\n            </template>\r\n        </v-data-table-server>\r\n\r\n\r\n    </v-container>\r\n</template>\r\n\r\n\r\n<script setup>\r\n  import { ref, watch } from 'vue'\r\n\r\n  const desserts = [\r\n    {\r\n      name: 'Frozen Yogurt',\r\n      calories: 159,\r\n      fat: 6,\r\n      carbs: 24,\r\n      protein: 4,\r\n      iron: '1',\r\n    },\r\n    {\r\n      name: 'Jelly bean',\r\n      calories: 375,\r\n      fat: 0,\r\n      carbs: 94,\r\n      protein: 0,\r\n      iron: '0',\r\n    },\r\n    {\r\n      name: 'KitKat',\r\n      calories: 518,\r\n      fat: 26,\r\n      carbs: 65,\r\n      protein: 7,\r\n      iron: '6',\r\n    },\r\n    {\r\n      name: 'Eclair',\r\n      calories: 262,\r\n      fat: 16,\r\n      carbs: 23,\r\n      protein: 6,\r\n      iron: '7',\r\n    },\r\n    {\r\n      name: 'Gingerbread',\r\n      calories: 356,\r\n      fat: 16,\r\n      carbs: 49,\r\n      protein: 3.9,\r\n      iron: '16',\r\n    },\r\n    {\r\n      name: 'Ice cream sandwich',\r\n      calories: 237,\r\n      fat: 9,\r\n      carbs: 37,\r\n      protein: 4.3,\r\n      iron: '1',\r\n    },\r\n    {\r\n      name: 'Lollipop',\r\n      calories: 392,\r\n      fat: 0.2,\r\n      carbs: 98,\r\n      protein: 0,\r\n      iron: '2',\r\n    },\r\n    {\r\n      name: 'Cupcake',\r\n      calories: 305,\r\n      fat: 3.7,\r\n      carbs: 67,\r\n      protein: 4.3,\r\n      iron: '8',\r\n    },\r\n    {\r\n      name: 'Honeycomb',\r\n      calories: 408,\r\n      fat: 3.2,\r\n      carbs: 87,\r\n      protein: 6.5,\r\n      iron: '45',\r\n    },\r\n    {\r\n      name: 'Donut',\r\n      calories: 452,\r\n      fat: 25,\r\n      carbs: 51,\r\n      protein: 4.9,\r\n      iron: '22',\r\n    },\r\n  ]\r\n  const FakeAPI = {\r\n    async fetch ({ page, itemsPerPage, sortBy, search }) {\r\n      return new Promise(resolve => {\r\n        setTimeout(() => {\r\n          const start = (page - 1) * itemsPerPage\r\n          const end = start + itemsPerPage\r\n          const items = desserts.slice().filter(item => {\r\n            if (search.name && !item.name.toLowerCase().includes(search.name.toLowerCase())) {\r\n              return false\r\n            }\r\n            // eslint-disable-next-line sonarjs/prefer-single-boolean-return\r\n            if (search.calories && !(item.calories >= Number(search.calories))) {\r\n              return false\r\n            }\r\n            return true\r\n          })\r\n          if (sortBy.length) {\r\n            const sortKey = sortBy[0].key\r\n            const sortOrder = sortBy[0].order\r\n            items.sort((a, b) => {\r\n              const aValue = a[sortKey]\r\n              const bValue = b[sortKey]\r\n              return sortOrder === 'desc' ? bValue - aValue : aValue - bValue\r\n            })\r\n          }\r\n          const paginated = items.slice(start, end === -1 ? undefined : end)\r\n          resolve({ items: paginated, total: items.length })\r\n        }, 500)\r\n      })\r\n    },\r\n  }\r\n  const itemsPerPage = ref(5)\r\n  const headers = ref([\r\n    {\r\n      title: 'Dessert (100g serving)',\r\n      align: 'start',\r\n      sortable: false,\r\n      key: 'name',\r\n    },\r\n    { title: 'Calories', key: 'calories', align: 'end' },\r\n    { title: 'Fat (g)', key: 'fat', align: 'end' },\r\n    { title: 'Carbs (g)', key: 'carbs', align: 'end' },\r\n    { title: 'Protein (g)', key: 'protein', align: 'end' },\r\n    { title: 'Iron (%)', key: 'iron', align: 'end' },\r\n  ])\r\n  const serverItems = ref([])\r\n  const loading = ref(true)\r\n  const totalItems = ref(0)\r\n  const name = ref('')\r\n  const calories = ref('')\r\n  const search = ref('')\r\n  function loadItems ({ page, itemsPerPage, sortBy }) {\r\n    loading.value = true\r\n    FakeAPI.fetch({ page, itemsPerPage, sortBy, search: { name: name.value, calories: calories.value } }).then(({ items, total }) => {\r\n      serverItems.value = items\r\n      totalItems.value = total\r\n      loading.value = false\r\n    })\r\n  }\r\n  watch(name, () => {\r\n    search.value = String(Date.now())\r\n  })\r\n  watch(calories, () => {\r\n    search.value = String(Date.now())\r\n  })\r\n</script>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}